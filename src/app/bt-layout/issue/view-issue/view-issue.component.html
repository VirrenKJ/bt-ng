<div class="mat-elevation-z8">
	<mat-card>
		<div class="row">
			<mat-card-title class="col" style="margin-bottom: 0px"> All Issues </mat-card-title>
		</div>
	</mat-card>
	<table mat-table [dataSource]="dataSource" *ngIf="issueList?.length > 0">
		<ng-container matColumnDef="sno">
			<th mat-header-cell *matHeaderCellDef>No.</th>
			<td mat-cell *matCellDef="let element; index as i">{{ paginator.pageIndex * paginator.pageSize + (i + 1) }}.</td>
		</ng-container>

		<ng-container matColumnDef="project_name">
			<th mat-header-cell *matHeaderCellDef>Project Name</th>
			<td mat-cell *matCellDef="let element">{{ element?.projectName }}</td>
		</ng-container>

		<ng-container matColumnDef="category_name">
			<th mat-header-cell *matHeaderCellDef>Category Name</th>
			<td mat-cell *matCellDef="let element">{{ element?.categoryName }}</td>
		</ng-container>

		<ng-container matColumnDef="assigned">
			<th mat-header-cell *matHeaderCellDef>Assigned User</th>
			<td mat-cell *matCellDef="let element">{{ element?.assignedFirstName }} ({{ element?.assignedUsername }})</td>
		</ng-container>

		<ng-container matColumnDef="reported_by">
			<th mat-header-cell *matHeaderCellDef>Reported By</th>
			<td mat-cell *matCellDef="let element">{{ element?.reportedByFirstName }} ({{ element?.reportedByUsername }})</td>
		</ng-container>

		<ng-container matColumnDef="summary">
			<th mat-header-cell *matHeaderCellDef>Summary</th>
			<td mat-cell *matCellDef="let element">{{ element?.summary }}</td>
		</ng-container>

		<ng-container matColumnDef="action" *ngIf="userRole != 'Viewer'">
			<th mat-header-cell *matHeaderCellDef>Action</th>
			<td mat-cell *matCellDef="let element">
				<a [routerLink]="['/bug-tracker/edit-issue', element.id]" style="color: #ffffff">
					<span class="material-icons" style="cursor: pointer"> edit </span>
				</a>
				<span class="material-icons" (click)="deleteIssue(element.id)" style="cursor: pointer"> delete </span>
			</td>
		</ng-container>

		<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
		<tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
	</table>

	<mat-paginator
		[hidden]="issueList?.length < 1"
		[pageSizeOptions]="[5, 10, 20]"
		showFirstLastButtons
		aria-label="Select page of periodic elements"
		#paginator
	>
	</mat-paginator>
	<div class="card text-white bg-dark mt-3" *ngIf="issueList?.length < 1">
		<div class="card-header">No Data</div>
	</div>
</div>
