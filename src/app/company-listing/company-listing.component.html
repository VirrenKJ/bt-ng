<mat-toolbar class="app-toolbar shadow" color="primary">
	<span class="display-6">Companies</span>
	<span class="spacer"> </span>
	<div class="me-3">
		<button mat-mini-fab color="primary" class="btn btn-secondary"><mat-icon class="material-icons">notifications</mat-icon></button>
	</div>
	<div class="dropdown">
		<button mat-mini-fab color="primary" class="btn btn-secondary dropdown-toggle" type="button" id="userDropdown" data-bs-toggle="dropdown">
			<fa-icon [icon]="faUser" style="font-size: medium"></fa-icon>
			<!-- <mat-icon>arrow_drop_down</mat-icon> -->
		</button>
		<ul class="dropdown-menu dropdown-menu-dark bg-dark" aria-labelledby="userDropdown">
			<li><a class="dropdown-item" href="#">Profile</a></li>
			<li><a class="dropdown-item" href="#">Subscription</a></li>
			<li><hr class="dropdown-divider" /></li>
			<li><a class="dropdown-item" [routerLink]="'/user'" (click)="logout()">Logout</a></li>
		</ul>
	</div>
</mat-toolbar>

<app-enlist-modal [openEnlistingModal]="setOpenEnlistModal" (reloadCompanies)="getCompanyEmployerList()"></app-enlist-modal>
<app-new-company [openCompanyModal]="setOpenCompanyModal" (reloadBusinesses)="getCompanyBusinessList()"></app-new-company>

<div class="body">
	<div class="container p-3">
		<mat-tab-group mat-stretch-tabs dynamicHeight class="mat-elevation-z4">
			<mat-tab class="mat-tab" label="Business">
				<div class="container py-3">
					<mat-card>
						<div class="row">
							<div class="col-8 mt-2">
								<mat-card-title> Businesses </mat-card-title>
							</div>
							<div class="col-4 d-flex">
								<div class="col-4">
									<button type="button" class="btn btn-outline-light float-end me-3" style="width: max-content" (click)="openCompanyModal(null)">
										Add Business
									</button>
								</div>
								<div class="col">
									<div class="input-group">
										<input
											type="search"
											class="form-control bg-dark text-white"
											placeholder="Search"
											aria-label="Search"
											aria-describedby="search-addon"
										/>
										<span class="input-group-text border-0" id="search-addon" style="cursor: pointer"><i class="material-icons">search</i> </span>
									</div>
								</div>
							</div>
						</div>
					</mat-card>
					<div class="card text-white bg-dark mt-2" *ngFor="let business of businessList; let i = index">
						<div class="row g-0">
							<div class="col-md-1">
								<mat-icon class="material-icons business-icon">business</mat-icon>
							</div>
							<div class="col-md-11">
								<div class="card-header">{{ business.name }}</div>
								<div class="card-body">
									<h4 class="card-title m-0">{{ business.email }} | {{ business.contactNumber }}</h4>
									<p class="card-text">
										<small class="text-muted">{{ business.industryType }}</small>
									</p>
								</div>
							</div>
						</div>
					</div>
					<mat-paginator
						[hidden]="businessList.length <= 0"
						(page)="paginationBusiness($event)"
						[pageSizeOptions]="[5, 10, 20]"
						showFirstLastButtons
						#businessPaginator
					>
					</mat-paginator>
				</div>
			</mat-tab>
			<mat-tab label="Companies(Employer)">
				<div class="container py-3">
					<mat-card>
						<div class="row">
							<div class="col-9 mt-2">
								<mat-card-title> Companies </mat-card-title>
							</div>
							<div class="col-3 d-flex">
								<div class="input-group">
									<input
										type="search"
										class="form-control bg-dark text-white"
										placeholder="Search"
										aria-label="Search"
										aria-describedby="search-addon"
									/>
									<span class="input-group-text border-0" id="search-addon" style="cursor: pointer"><i class="material-icons">search</i> </span>
								</div>
							</div>
						</div>
					</mat-card>
					<div class="card text-white bg-dark mt-2">
						<div class="card-header">Company Name</div>
						<div class="card-body">This is some text within a card body.</div>
					</div>
					<div class="card text-white bg-dark mt-2">
						<div class="card-header">Company Name</div>
						<div class="card-body">This is some text within a card body.</div>
					</div>
					<div class="card text-white bg-dark mt-2">
						<div class="card-header">Company Name</div>
						<div class="card-body">This is some text within a card body.</div>
					</div>
					<mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons aria-label="Select page of periodic elements" #companyPaginator>
					</mat-paginator>
				</div>
			</mat-tab>
			<mat-tab label="Manage User">
				<ng-container>
					<div class="container py-3 mat-elevation-z8">
						<mat-card>
							<div class="row">
								<div class="col-8 mt-2">
									<mat-card-title> Users </mat-card-title>
								</div>
								<div class="col-4 d-flex">
									<div class="col-4">
										<button type="button" class="btn btn-outline-light float-end me-3" style="width: max-content" (click)="openEnlistingModal()">
											Enlist Employee
										</button>
									</div>
									<div class="col">
										<div class="input-group">
											<input
												type="search"
												class="form-control bg-dark text-white"
												placeholder="Search"
												aria-label="Search"
												aria-describedby="search-addon"
											/>
											<span class="input-group-text border-0" id="search-addon" style="cursor: pointer"><i class="material-icons">search</i> </span>
										</div>
									</div>
								</div>
							</div>
						</mat-card>
						<!-- table -->
						<table mat-table [dataSource]="userDataSource">
							<!-- Position Column -->
							<ng-container matColumnDef="position">
								<th mat-header-cell *matHeaderCellDef>No.</th>
								<td mat-cell *matCellDef="let element">{{ element.position }}</td>
							</ng-container>

							<!-- Name Column -->
							<ng-container matColumnDef="name">
								<th mat-header-cell *matHeaderCellDef>Name</th>
								<td mat-cell *matCellDef="let element">{{ element.name }}</td>
							</ng-container>

							<!-- Weight Column -->
							<ng-container matColumnDef="weight">
								<th mat-header-cell *matHeaderCellDef>Weight</th>
								<td mat-cell *matCellDef="let element">{{ element.weight }}</td>
							</ng-container>

							<!-- Symbol Column -->
							<ng-container matColumnDef="symbol">
								<th mat-header-cell *matHeaderCellDef>Symbol</th>
								<td mat-cell *matCellDef="let element">{{ element.symbol }}</td>
							</ng-container>

							<tr mat-header-row *matHeaderRowDef="userColumns"></tr>
							<tr mat-row *matRowDef="let row; columns: userColumns"></tr>
						</table>

						<mat-paginator
							class="mt-0"
							[pageSizeOptions]="[5, 10, 20]"
							showFirstLastButtons
							aria-label="Select page of periodic elements"
							#userPaginator
						>
						</mat-paginator>
					</div>
				</ng-container>
			</mat-tab>
		</mat-tab-group>
	</div>
</div>
